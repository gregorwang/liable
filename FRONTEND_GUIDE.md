# 前端开发指南

## 🎉 前端项目已完成

评论审核平台的前端系统已经完成开发，包含完整的登录、审核员工作台和管理员控制台。

## 📦 技术栈

- **Vue 3** - 渐进式 JavaScript 框架
- **TypeScript** - 类型安全
- **Vite** - 快速的开发构建工具
- **Element Plus** - Vue 3 UI 组件库
- **Pinia** - Vue 3 状态管理
- **Vue Router** - 路由管理
- **Axios** - HTTP 请求库

## 🚀 快速启动

### 1. 启动后端服务

在项目根目录：

```bash
go run cmd/api/main.go
```

后端将运行在 `http://localhost:8080`

### 2. 启动前端服务

```bash
cd frontend
npm run dev
```

前端将运行在 `http://localhost:3000`

### 3. 访问系统

打开浏览器访问：`http://localhost:3000`

## 🔐 测试账号

### 管理员账号
- 用户名：`admin`
- 密码：`admin123`
- 权限：完整的管理员权限

### 审核员账号
1. 点击"注册"创建新账号
2. 使用管理员账号登录
3. 在"用户管理"中审批新用户
4. 使用新账号登录即可使用审核员功能

## 📱 功能演示

### 审核员工作流程

1. **登录系统**
   - 访问 `http://localhost:3000/login`
   - 输入审核员账号密码

2. **领取任务**
   - 点击"领取新任务（20条）"按钮
   - 系统自动分配 20 条待审核评论

3. **审核评论**
   - 阅读评论内容
   - 选择"通过"或"不通过"
   - 如果不通过：
     - 必须选择至少一个违规标签
     - 必须填写不通过原因

4. **提交审核**
   - 单条提交：点击任务卡片下的"提交审核"按钮
   - 批量提交：勾选多条后点击"批量提交"按钮

### 管理员工作流程

1. **登录系统**
   - 使用管理员账号登录
   - 自动跳转到管理后台

2. **查看总览**
   - `/admin/dashboard` - 查看系统整体数据
   - 统计卡片：总任务数、完成数、通过率等
   - 任务分布进度条

3. **用户管理**
   - `/admin/users` - 审批新注册的审核员
   - 点击"通过"批准用户
   - 点击"拒绝"拒绝申请

4. **统计分析**
   - `/admin/statistics` - 查看详细统计
   - 违规类型分布表
   - 审核员绩效排行榜

5. **标签管理**
   - `/admin/tags` - 管理违规标签
   - 新建标签：点击"新建标签"
   - 编辑标签：修改名称和描述
   - 启用/禁用：控制标签是否可用
   - 删除标签：永久删除（谨慎操作）

## 🎨 界面预览

### 登录页面
- 渐变紫色背景
- 居中的卡片式登录表单
- 表单验证和错误提示
- "还没有账号？立即注册"链接

### 审核员工作台
- 顶部导航栏：显示用户名和退出按钮
- 统计卡片：待审核任务数、今日完成数
- 操作按钮：领取任务、批量提交、刷新
- 任务卡片列表：
  - 评论内容展示
  - 审核结果单选框
  - 违规标签复选框（不通过时显示）
  - 原因输入框（不通过时显示）
  - 提交按钮

### 管理员控制台
- 左侧侧边栏：导航菜单
- 顶部导航栏：页面标题和用户信息
- 主内容区：根据选择的菜单显示不同内容
- 统一的 Element Plus 风格

## 🔧 项目结构

```
frontend/
├── src/
│   ├── api/                  # API 接口封装
│   │   ├── request.ts       # Axios 实例配置
│   │   ├── auth.ts          # 认证接口
│   │   ├── task.ts          # 任务接口
│   │   └── admin.ts         # 管理员接口
│   ├── router/              # 路由配置
│   │   └── index.ts         # 路由定义和守卫
│   ├── stores/              # Pinia 状态管理
│   │   ├── user.ts          # 用户状态
│   │   └── task.ts          # 任务状态
│   ├── types/               # TypeScript 类型定义
│   │   └── index.ts
│   ├── utils/               # 工具函数
│   │   ├── auth.ts          # Token 管理
│   │   └── format.ts        # 格式化工具
│   ├── views/               # 页面组件
│   │   ├── Login.vue        # 登录页
│   │   ├── Register.vue     # 注册页
│   │   ├── reviewer/        # 审核员页面
│   │   │   └── Dashboard.vue
│   │   └── admin/           # 管理员页面
│   │       ├── Dashboard.vue    # 总览
│   │       ├── UserManage.vue   # 用户管理
│   │       ├── Statistics.vue   # 统计分析
│   │       └── TagManage.vue    # 标签管理
│   ├── App.vue
│   └── main.ts
├── vite.config.ts           # Vite 配置
├── package.json
└── README.md
```

## 🛡️ 安全特性

### 1. JWT Token 认证
- 登录后获取 Token
- Token 存储在 localStorage
- 请求自动携带 Token

### 2. 路由守卫
- 未登录用户自动跳转到登录页
- 角色权限检查：
  - 审核员只能访问审核员页面
  - 管理员只能访问管理员页面
- 已登录用户访问登录页自动跳转到工作台

### 3. 响应拦截
- 401 未授权自动清除 Token 并跳转登录
- 统一的错误消息提示
- 网络错误友好提示

## 🎯 核心功能

### 1. 认证系统 ✅
- [x] 用户登录（表单验证）
- [x] 审核员注册（密码确认）
- [x] Token 自动管理
- [x] 用户信息持久化

### 2. 审核员功能 ✅
- [x] 领取任务（一次 20 条）
- [x] 查看我的任务
- [x] 单个任务审核
- [x] 批量提交审核
- [x] 违规标签选择
- [x] 原因填写验证

### 3. 管理员功能 ✅
- [x] 数据总览（6 个统计卡片）
- [x] 任务分布可视化
- [x] 用户审批管理
- [x] 违规类型统计
- [x] 审核员绩效排行
- [x] 标签 CRUD 操作

## 📊 API 对接

所有 API 接口已与后端完整对接：

### 认证接口
- `POST /api/auth/login` - 登录
- `POST /api/auth/register` - 注册
- `GET /api/auth/profile` - 获取用户信息

### 任务接口
- `POST /api/tasks/claim` - 领取任务
- `GET /api/tasks/my` - 我的任务
- `POST /api/tasks/submit` - 提交单个审核
- `POST /api/tasks/submit-batch` - 批量提交
- `GET /api/tags` - 获取标签列表

### 管理员接口
- `GET /api/admin/users` - 待审批用户
- `PUT /api/admin/users/:id/approve` - 审批用户
- `GET /api/admin/stats/overview` - 总览统计
- `GET /api/admin/stats/hourly` - 每小时统计
- `GET /api/admin/stats/tags` - 标签统计
- `GET /api/admin/stats/reviewers` - 审核员绩效
- `GET /api/admin/tags` - 标签列表
- `POST /api/admin/tags` - 创建标签
- `PUT /api/admin/tags/:id` - 更新标签
- `DELETE /api/admin/tags/:id` - 删除标签

## 🎨 UI/UX 亮点

1. **响应式设计**
   - 适配不同屏幕尺寸
   - 流畅的动画效果

2. **友好的交互**
   - Loading 状态提示
   - 操作成功/失败消息
   - 确认对话框（删除、退出等）
   - 表单验证实时反馈

3. **美观的界面**
   - Element Plus 默认主题
   - 统一的配色方案
   - 卡片阴影和悬停效果
   - 图标和徽章美化

## 🐛 调试技巧

### 1. 查看网络请求
打开浏览器开发者工具（F12） → Network 标签页

### 2. 查看 Token
打开浏览器开发者工具（F12） → Application → Local Storage

### 3. 查看路由状态
打开浏览器开发者工具（F12） → Vue DevTools

## 📝 下一步优化建议

1. **功能增强**
   - 添加快捷键支持（通过=Enter，不通过=Space）
   - 添加任务搜索和筛选
   - 添加审核历史记录
   - 添加数据导出功能

2. **性能优化**
   - 虚拟滚动（大量任务时）
   - 图片懒加载
   - 路由懒加载（已实现）
   - 组件缓存

3. **用户体验**
   - 暗色主题切换
   - 多语言支持
   - 快捷操作提示
   - 键盘导航

## 🎉 总结

✅ **前端系统已完整开发完成！**

包含的功能：
- 完整的认证系统
- 审核员工作台（任务领取、审核、提交）
- 管理员控制台（用户管理、统计分析、标签管理）
- 美观的 UI 界面
- 完善的错误处理
- 类型安全的 TypeScript

现在可以开始使用系统进行评论审核工作了！🚀

