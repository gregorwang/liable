# 数据分析平台产品需求文档（PRD）

**文档版本**：v1.0
**创建日期**：2025-11-25
**产品名称**：智能审核数据分析平台（Smart Moderation Analytics Platform）
**产品定位**：为内容审核业务提供数据洞察和决策支持的一体化分析平台

---

## 📑 目录

1. [产品概述](#1-产品概述)
2. [产品目标与价值](#2-产品目标与价值)
3. [用户角色与场景](#3-用户角色与场景)
4. [功能需求](#4-功能需求)
5. [非功能需求](#5-非功能需求)
6. [技术架构](#6-技术架构)
7. [数据模型](#7-数据模型)
8. [产品路线图](#8-产品路线图)
9. [成功指标](#9-成功指标)

---

## 1. 产品概述

### 1.1 背景

当前内容审核平台已积累大量业务数据：
- **评论审核**：5,323条评论，涉及一审、二审、质检三个环节
- **视频审核**：88个视频，包含质量评分和流量池分配
- **用户权限**：4个审核员，54种权限，117条权限记录
- **业务配置**：29条审核规则，46个标签配置

这些数据蕴含着丰富的业务洞察，但缺乏系统化的分析工具，导致：
- ❌ 管理层难以量化审核效率和质量
- ❌ 审核员无法了解自己的工作表现
- ❌ 无法发现业务瓶颈和优化机会
- ❌ 决策缺乏数据支持

### 1.2 产品定义

**智能审核数据分析平台**是一个面向内容审核业务的专业数据分析产品，通过可视化报表、智能分析、预警提醒等功能，帮助不同角色用户从数据中获取洞察，优化业务流程，提升审核效率和质量。

### 1.3 核心价值主张

- **对管理者**：全局掌控业务状况，数据驱动决策
- **对审核主管**：实时监控团队表现，快速发现问题
- **对审核员**：了解个人表现，明确改进方向
- **对运营人员**：洞察内容趋势，优化规则配置

---

## 2. 产品目标与价值

### 2.1 业务目标

| 目标维度 | 短期目标（3个月） | 中期目标（6-12个月） | 长期目标（12个月+） |
|---------|-----------------|-------------------|-------------------|
| **效率提升** | 审核效率提升15% | 审核效率提升30% | 审核效率提升50% |
| **质量改善** | 误判率降低10% | 误判率降低20% | 误判率降低30% |
| **用户使用** | 日活用户≥80% | 日活用户≥90% | 日活用户100% |
| **决策支持** | 每周生成1份分析报告 | 每日自动生成报告 | 实时决策建议 |

### 2.2 用户价值

#### 管理层价值
- 📊 **全局视角**：一屏掌握所有关键指标
- 📈 **趋势洞察**：发现业务增长或下滑趋势
- 💰 **成本优化**：识别低效环节，优化人力配置
- ⚠️ **风险预警**：及时发现异常情况

#### 审核主管价值
- 👥 **团队管理**：实时监控每个审核员的工作状态
- 📋 **任务分配**：基于数据合理分配任务
- 🎯 **绩效考核**：客观评估团队成员表现
- 🔍 **问题定位**：快速找到质量问题根源

#### 审核员价值
- 📊 **个人仪表盘**：清晰了解自己的工作量和表现
- 🏆 **排名对比**：与团队平均水平对比
- 📚 **学习改进**：发现常犯错误，针对性提升
- 🎁 **激励反馈**：及时获得正面反馈

---

## 3. 用户角色与场景

### 3.1 用户角色定义

| 角色 | 权限级别 | 主要诉求 | 使用频率 |
|-----|---------|---------|---------|
| **超级管理员** | 最高 | 全局业务监控、战略决策 | 每周3-5次 |
| **审核主管** | 高 | 团队管理、质量把控 | 每日多次 |
| **高级审核员** | 中 | 查看个人数据、学习提升 | 每日1-2次 |
| **普通审核员** | 低 | 查看基础个人数据 | 每周1-2次 |
| **运营人员** | 中 | 内容趋势分析、规则优化 | 每周2-3次 |
| **数据分析师** | 高 | 深度分析、自定义报表 | 每周1-2次 |

### 3.2 典型使用场景

#### 场景1：管理层早会查看业务概览
**角色**：超级管理员
**时间**：每周一早上9:00
**流程**：
1. 登录平台，查看首页仪表盘
2. 查看过去7天的关键指标变化
3. 点击异常指标，下钻查看详细数据
4. 导出周报，分享给团队

**期望结果**：5分钟内了解上周业务全貌，发现需要关注的问题

---

#### 场景2：审核主管进行日常巡检
**角色**：审核主管
**时间**：每天上午10:00和下午4:00
**流程**：
1. 查看"实时监控"页面
2. 检查今日审核进度和待审核积压
3. 查看各审核员的工作状态和效率
4. 发现某审核员效率异常低，点击查看详情
5. 发现该审核员连续驳回率过高，进行一对一辅导

**期望结果**：10分钟内发现团队异常，及时干预

---

#### 场景3：审核员查看个人表现
**角色**：普通审核员
**时间**：每天下班前
**流程**：
1. 进入"我的工作台"
2. 查看今日审核数量、平均时长
3. 对比团队平均水平，发现自己速度偏慢
4. 查看"常见错误"模块，学习改进点
5. 查看本月积分排行，设定明天目标

**期望结果**：3分钟内了解当天表现，明确改进方向

---

#### 场景4：运营人员分析违规趋势
**角色**：运营人员
**时间**：每月1日
**流程**：
1. 进入"内容分析"页面
2. 选择时间范围：过去30天
3. 查看违规标签分布，发现"低俗内容"标签增长300%
4. 下钻查看具体案例和时间分布
5. 分析原因，更新审核规则
6. 导出分析报告，提交给管理层

**期望结果**：30分钟内完成月度内容趋势分析

---

#### 场景5：数据分析师进行深度分析
**角色**：数据分析师
**时间**：不定期
**流程**：
1. 进入"自定义分析"模块
2. 使用SQL查询接口，提取原始数据
3. 在本地进行深度建模分析
4. 发现"审核时长与准确率呈负相关"
5. 将分析结果上传到平台，生成可视化报告
6. 分享给管理层，建议优化激励机制

**期望结果**：支持灵活的自定义分析需求

---

## 4. 功能需求

### 4.1 产品架构图

```
┌─────────────────────────────────────────────────────────────┐
│                        用户层（Web界面）                      │
├─────────────────────────────────────────────────────────────┤
│  首页仪表盘  │  实时监控  │  分析报表  │  我的工作台  │  设置  │
└─────────────────────────────────────────────────────────────┘
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                        功能层                                │
├─────────────────────────────────────────────────────────────┤
│ 数据可视化 │ 指标计算 │ 报表生成 │ 预警系统 │ 权限管理 │ 导出  │
└─────────────────────────────────────────────────────────────┘
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                        数据层                                │
├─────────────────────────────────────────────────────────────┤
│  数据仓库  │  实时数据流  │  历史数据归档  │  缓存层  │  日志  │
└─────────────────────────────────────────────────────────────┘
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    数据源（Supabase）                         │
├─────────────────────────────────────────────────────────────┤
│  业务数据库  │  用户权限  │  审核记录  │  配置数据  │        │
└─────────────────────────────────────────────────────────────┘
```

---

### 4.2 MVP功能清单（第一阶段：1-2个月）

> **目标**：快速上线核心功能，验证产品价值

#### 模块1：首页仪表盘（Dashboard）

**功能描述**：提供核心业务指标的实时概览

##### 1.1 关键指标卡片（Metrics Cards）

| 指标 | 计算逻辑 | 数据来源 | 刷新频率 |
|-----|---------|---------|---------|
| 今日审核量 | COUNT(completed_at = TODAY) | review_tasks, video_first_review_tasks | 实时 |
| 今日通过率 | (通过数 / 总审核数) × 100% | review_results, video_first_review_results | 实时 |
| 平均审核时长 | AVG(completed_at - claimed_at) | review_tasks | 每小时 |
| 待审核积压 | COUNT(status = 'pending') | review_tasks, video_first_review_tasks | 实时 |
| 在线审核员 | COUNT(最近1小时有活动的用户) | users, review_tasks | 每5分钟 |
| 本月总审核量 | COUNT(completed_at IN 本月) | review_tasks | 每日 |

**界面设计要求**：
- 6个指标卡片，2行3列布局
- 每个卡片显示：指标名称、数值、环比变化（↑↓%）、迷你趋势图
- 点击卡片可下钻查看详细数据

##### 1.2 审核量趋势图（Trend Chart）

**图表类型**：折线图 + 柱状图组合
**时间维度**：过去7天/30天/90天（可切换）
**指标**：
- 主轴（柱状图）：每日审核量
- 次轴（折线图）：每日通过率

**交互功能**：
- 鼠标悬停显示详细数值
- 点击数据点可下钻到当天详情
- 支持导出为图片

##### 1.3 审核员工作量排行（Top Reviewers）

**展示形式**：横向条形图
**排序逻辑**：今日审核量 DESC
**显示内容**：
- 审核员姓名
- 审核数量
- 占比（百分比）
- 通过率（颜色标识：绿色≥90%，黄色80-90%，红色<80%）

**交互**：点击审核员名字跳转到详情页

##### 1.4 违规标签分布（Tags Distribution）

**图表类型**：饼图或环形图
**数据来源**：review_results.tags, video_queue_results.tags
**显示**：Top 10 违规标签及占比
**交互**：点击标签查看相关案例

---

#### 模块2：实时监控（Real-time Monitor）

**功能描述**：实时展示审核业务的运行状态

##### 2.1 任务队列监控

**展示内容**：
- 各队列的待审核任务数
- 平均等待时长
- 队列优先级
- 告警状态（积压>100红色预警）

**表格字段**：
| 队列名称 | 待审核数 | 进行中 | 已完成 | 平均等待时长 | 状态 |
|---------|---------|--------|--------|------------|------|

##### 2.2 审核员实时状态

**展示形式**：卡片列表
**每个审核员卡片显示**：
- 姓名 + 头像
- 当前状态（在线/离线/忙碌）
- 今日已审核数
- 当前任务（如果有）
- 平均审核时长

**交互**：点击卡片查看审核员详情

##### 2.3 实时活动流（Activity Feed）

**展示**：最近50条审核活动，实时滚动更新
**每条记录显示**：
- 时间戳
- 审核员
- 操作类型（认领任务、完成审核、提交二审）
- 结果（通过/驳回）

---

#### 模块3：分析报表（Analytics Reports）

##### 3.1 审核效率分析

**3.1.1 按审核员统计**

**表格字段**：
| 审核员 | 总审核量 | 平均时长 | 最快时长 | 最慢时长 | 效率排名 |
|-------|---------|---------|---------|---------|---------|

**图表**：
- 审核量柱状图（对比）
- 平均时长对比雷达图

**筛选条件**：
- 时间范围（今日/本周/本月/自定义）
- 审核类型（评论/视频）
- 审核阶段（一审/二审/质检）

---

**3.1.2 按时间段统计**

**表格字段**：
| 日期 | 审核量 | 通过数 | 驳回数 | 平均时长 | 峰值时段 |
|-----|--------|--------|--------|---------|---------|

**图表**：
- 24小时审核量热力图（横轴：日期，纵轴：小时）
- 工作日 vs 周末对比

---

##### 3.2 审核质量分析

**3.2.1 通过率分析**

**指标**：
- 整体通过率
- 各审核员通过率
- 各类型内容通过率
- 通过率趋势（按周/月）

**图表**：
- 通过率趋势折线图
- 审核员通过率对比（箱线图）
- 通过/驳回饼图

---

**3.2.2 二审改判分析**

**目标**：评估一审准确性
**计算逻辑**：
```
改判率 = (一审和二审结果不一致的数量 / 二审总数) × 100%
```

**展示**：
- 整体改判率
- 各审核员改判率排行（升序）
- 改判原因分布
- 改判趋势

**表格**：
| 一审审核员 | 二审数量 | 改判数 | 改判率 | 主要改判原因 |
|-----------|---------|--------|--------|-------------|

---

**3.2.3 质检分析**

**数据来源**：quality_check_results
**指标**：
- 质检通过率
- 常见错误类型（error_type分布）
- 各审核员质检通过率

---

##### 3.3 内容趋势分析

**3.3.1 违规标签趋势**

**时间维度**：按周/月
**展示**：
- 各标签数量趋势折线图（多条线）
- 标签增长率排行（Top 10）
- 新出现的标签

**预警**：某标签周增长>50%时标红提醒

---

**3.3.2 视频质量分析**

**数据来源**：video_first_review_results
**指标**：
- 平均质量分（overall_score）
- 质量分分布（1-10分、11-20分、21-30分、31-40分）
- 各质量维度得分（quality_dimensions JSON解析）
- 流量池分配效果（100k/1m/10m的转化率）

**图表**：
- 质量分分布直方图
- 质量维度雷达图
- 流量池漏斗图

---

#### 模块4：我的工作台（My Workspace）

**权限**：所有审核员可见，只能查看个人数据

##### 4.1 个人仪表盘

**今日数据**：
- 今日已审核
- 平均审核时长
- 通过率
- 完成目标进度（如：今日目标100条，已完成60条，进度条60%）

**本周/本月数据**：
- 总审核量
- 通过率
- 改判率（如果有二审）
- 团队排名

**个人趋势图**：
- 过去7天审核量折线图
- 过去7天通过率趋势

---

##### 4.2 我的排名

**展示**：
- 审核量排名（当前排名 / 总人数）
- 通过率排名
- 质检通过率排名

**可视化**：排名变化趋势（↑升了3名、↓降了2名）

---

##### 4.3 我的常见错误

**数据来源**：
- 二审改判记录
- 质检不通过记录

**展示**：
- 常犯错误类型Top 5
- 每种错误的案例链接
- 改进建议（文本提示）

---

##### 4.4 学习中心（可选）

**内容**：
- 审核规则文档
- 优秀案例
- 常见问题FAQ
- 培训视频

---

#### 模块5：系统设置（Settings）

##### 5.1 权限管理

**功能**：
- 查看用户列表
- 分配角色（管理员/主管/审核员）
- 设置页面访问权限

**界面**：表格 + 权限矩阵

---

##### 5.2 报表配置

**功能**：
- 设置关键指标的阈值（如：待审核>100预警）
- 配置定时报表（每日/每周自动生成）
- 设置报表接收人

---

##### 5.3 数据导出

**支持格式**：
- Excel（.xlsx）
- CSV
- PDF报告

**导出内容**：
- 当前页面的表格数据
- 当前页面的图表（PNG）
- 完整报表（包含图表和表格）

---

### 4.3 进阶功能清单（第二阶段：3-4个月）

> **目标**：增强数据洞察能力，提供智能分析

#### 功能1：智能预警系统

**触发条件配置**：
| 预警类型 | 触发条件 | 预警级别 | 通知方式 |
|---------|---------|---------|---------|
| 积压预警 | 待审核>100 | 🔴 高 | 站内信+邮件 |
| 效率预警 | 平均时长>5分钟 | 🟡 中 | 站内信 |
| 质量预警 | 通过率<80% | 🔴 高 | 站内信+邮件 |
| 异常预警 | 某审核员1小时无活动 | 🟢 低 | 站内信 |
| 趋势预警 | 违规量周增长>50% | 🟡 中 | 站内信 |

**预警页面**：
- 未读预警列表
- 历史预警记录
- 预警处理状态追踪

---

#### 功能2：对比分析

**对比维度**：
- 时间对比（本周 vs 上周、本月 vs 上月、同比、环比）
- 人员对比（审核员A vs 审核员B）
- 类型对比（评论审核 vs 视频审核）
- 阶段对比（一审 vs 二审）

**可视化**：
- 对比表格（双列对比，差异高亮）
- 对比图表（双柱对比、折线对比）
- 差异百分比标注

---

#### 功能3：自定义报表

**功能描述**：用户可自行配置报表

**配置项**：
1. **选择数据源**：评论审核/视频审核/用户数据
2. **选择指标**：从预定义指标库选择（如审核量、通过率等）
3. **选择维度**：时间/审核员/标签/队列
4. **选择图表类型**：折线图/柱状图/饼图/表格
5. **设置筛选条件**：时间范围、状态等
6. **保存为模板**：命名并保存，下次快速调用

**示例**：
- 创建"周报模板"：包含本周审核量、通过率、TOP审核员等
- 创建"质量月报"：包含月度改判率、质检分析、问题汇总

---

#### 功能4：数据钻取（Drill-down）

**交互逻辑**：
1. 用户在首页看到"今日审核量：500"
2. 点击该指标卡片
3. 进入详情页，显示：
   - 按审核员分组的审核量
   - 按小时分布的审核量
   - 按审核类型的审核量
4. 点击某个审核员，继续下钻
5. 显示该审核员今日的所有审核记录（列表）

**实现**：
- 层级：概览 → 分组 → 明细
- 面包屑导航：首页 > 今日审核量 > 审核员A > 审核记录

---

#### 功能5：数据导出增强

**新增格式**：
- JSON（供API调用）
- SQL查询结果
- 数据集打包（ZIP）

**自动化导出**：
- 定时任务：每周一早上8点自动生成周报并发送邮件
- 订阅功能：用户订阅某个报表，定期接收

---

#### 功能6：移动端适配

**功能范围**：
- 首页仪表盘（核心指标）
- 实时监控（简化版）
- 我的工作台

**技术方案**：响应式设计（Responsive Design）

---

### 4.4 高级功能清单（第三阶段：5-6个月+）

> **目标**：引入AI能力，提供智能决策支持

#### 功能1：AI智能分析

**1.1 异常检测**
- 算法：基于历史数据的异常检测模型
- 功能：自动识别异常数据点（如某审核员突然效率下降50%）
- 输出：异常报告 + 可能原因分析

**1.2 趋势预测**
- 算法：时间序列预测（ARIMA、Prophet）
- 功能：预测未来7天的审核量、通过率
- 输出：预测曲线 + 置信区间
- 应用：提前安排人力资源

**1.3 根因分析**
- 功能：当某指标异常时，AI自动分析可能原因
- 示例：通过率下降10% → AI分析发现是因为新增了某个严格的审核规则
- 输出：因果链路图 + 文字说明

---

#### 功能2：智能推荐

**2.1 任务分配推荐**
- 算法：基于审核员历史表现和当前任务特征
- 功能：推荐最合适的审核员来处理某类任务
- 示例："低俗内容"审核，推荐准确率最高的审核员A

**2.2 规则优化推荐**
- 功能：基于审核数据，推荐需要更新的规则
- 示例：某标签使用率持续下降，建议归档或合并

---

#### 功能3：自然语言查询（NLQ）

**功能描述**：用户用自然语言提问，系统自动生成图表

**示例对话**：
```
用户：过去一个月，哪个审核员的通过率最高？
系统：[生成柱状图] 审核员A通过率92%，排名第一。

用户：对比本周和上周的审核量
系统：[生成对比图] 本周审核量1200，上周1000，增长20%。

用户：为什么今天通过率这么低？
系统：[AI分析] 今天通过率75%，低于平均85%。可能原因：
      1. 新审核员B首次上岗，通过率仅60%（占今日30%任务）
      2. 今日"垃圾广告"类内容增加40%
```

**技术方案**：
- 前端：语音/文字输入框
- 后端：NLP解析 + SQL生成 + 可视化渲染

---

#### 功能4：知识图谱

**构建内容**：
- 审核规则之间的关系
- 标签之间的共现关系
- 审核员专长领域
- 违规内容的演变路径

**应用**：
- 可视化展示规则体系
- 发现隐藏的关联关系
- 辅助新人快速学习

---

#### 功能5：A/B测试平台

**功能**：
- 测试不同审核规则的效果
- 对比不同任务分配策略
- 评估新功能的影响

**流程**：
1. 创建实验：定义对照组和实验组
2. 分配流量：按比例分配任务
3. 收集数据：记录实验数据
4. 分析结果：自动生成实验报告
5. 决策：基于数据决定是否全量上线

---

#### 功能6：开放API

**提供能力**：
- 数据查询API
- 指标计算API
- 报表生成API
- Webhook通知

**使用场景**：
- 第三方系统集成
- 自定义数据分析
- 移动端App开发

**文档**：完整的API文档 + SDK（Python/JavaScript）

---

## 5. 非功能需求

### 5.1 性能要求

| 指标 | 要求 | 备注 |
|-----|------|------|
| 页面加载时间 | <2秒 | 首页及主要报表页 |
| 图表渲染时间 | <1秒 | 10万条数据以内 |
| 数据刷新频率 | 实时指标：5秒；历史数据：1小时 | 可配置 |
| 并发用户数 | 支持50+ | 当前团队规模 |
| 数据处理能力 | 百万级数据查询<5秒 | 使用索引优化 |

### 5.2 可用性要求

- **系统可用性**：99.5%（允许每月停机<3.6小时）
- **数据准确性**：100%（不允许计算错误）
- **容错性**：数据源异常时，显示缓存数据并提示
- **降级方案**：高峰期自动降低数据刷新频率

### 5.3 安全要求

| 安全维度 | 要求 |
|---------|------|
| 身份认证 | 集成现有系统的SSO单点登录 |
| 权限控制 | 基于角色的访问控制（RBAC） |
| 数据脱敏 | 敏感字段（如用户ID）需脱敏展示 |
| 操作日志 | 记录所有数据导出和配置修改操作 |
| 数据传输 | HTTPS加密传输 |
| SQL注入防护 | 所有查询使用参数化查询 |

### 5.4 易用性要求

- **学习成本**：新用户10分钟内掌握核心功能
- **界面语言**：中文（支持国际化扩展）
- **交互反馈**：所有操作<1秒有视觉反馈
- **错误提示**：清晰的错误信息和解决建议
- **帮助文档**：每个页面有"？"帮助按钮

### 5.5 兼容性要求

| 类型 | 要求 |
|-----|------|
| 浏览器 | Chrome 90+、Edge 90+、Firefox 88+、Safari 14+ |
| 屏幕分辨率 | 最低1366×768，推荐1920×1080 |
| 移动端 | iOS 14+、Android 10+ |

### 5.6 可维护性要求

- **代码规范**：遵循PEP8（Python）、ESLint（JavaScript）
- **文档**：完整的技术文档和API文档
- **测试覆盖率**：核心逻辑≥80%
- **日志规范**：统一的日志格式，分级记录
- **监控告警**：系统异常自动通知开发团队

---

## 6. 技术架构

### 6.1 技术栈推荐

#### 6.1.1 方案A：轻量级快速开发（推荐初学者）

| 层次 | 技术选型 | 理由 |
|-----|---------|------|
| **前端框架** | Streamlit | 代码量少，开发快速，内置组件丰富 |
| **数据分析** | Pandas + NumPy | Python数据分析标配 |
| **数据可视化** | Plotly | 交互式图表，美观易用 |
| **数据库连接** | Supabase Python SDK | 官方SDK，简单易用 |
| **部署** | Streamlit Cloud | 免费托管，一键部署 |

**优点**：
- ✅ 开发速度快（1-2周可完成MVP）
- ✅ AI辅助友好（Claude可直接生成完整代码）
- ✅ 维护成本低
- ✅ 适合小团队

**缺点**：
- ❌ 定制化能力有限
- ❌ 高并发性能一般
- ❌ 界面样式受限

---

#### 6.1.2 方案B：专业级全栈方案（推荐成熟团队）

| 层次 | 技术选型 | 理由 |
|-----|---------|------|
| **前端框架** | React + TypeScript | 组件化开发，生态丰富 |
| **UI组件库** | Ant Design / Chakra UI | 企业级组件库 |
| **图表库** | ECharts / Recharts | 强大的可视化能力 |
| **状态管理** | Zustand / Redux Toolkit | 数据流管理 |
| **后端框架** | FastAPI (Python) | 高性能异步框架，自动生成API文档 |
| **数据处理** | Pandas + Polars | Polars处理大数据更快 |
| **缓存** | Redis | 减轻数据库压力 |
| **任务队列** | Celery | 处理定时任务和异步任务 |
| **数据库** | Supabase (PostgreSQL) | 现有数据源 |
| **数据仓库** | PostgreSQL 分析库 | 历史数据归档 |
| **部署** | Docker + Nginx | 容器化部署 |
| **监控** | Prometheus + Grafana | 系统监控 |

**优点**：
- ✅ 高度定制化
- ✅ 高性能高并发
- ✅ 可扩展性强
- ✅ 适合长期维护

**缺点**：
- ❌ 开发周期长（2-3个月）
- ❌ 技术栈复杂
- ❌ 需要专业团队

---

#### 6.1.3 方案C：混合方案（推荐AI辅助学习者）

| 层次 | 技术选型 | 理由 |
|-----|---------|------|
| **前端** | Gradio / Dash | 比Streamlit更灵活，比React更简单 |
| **后端** | FastAPI | 性能好，代码简洁，AI易生成 |
| **数据分析** | Pandas + DuckDB | DuckDB作为轻量级数据仓库 |
| **可视化** | Plotly | 交互式图表 |
| **部署** | Railway / Render | 简单部署平台 |

**优点**：
- ✅ 平衡开发速度和灵活性
- ✅ AI辅助开发友好
- ✅ 性能较好
- ✅ 可逐步演进

---

### 6.2 系统架构图

#### 6.2.1 整体架构（方案C：混合方案）

```
┌───────────────────────────────────────────────────────────┐
│                         用户端                             │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐      │
│  │ Chrome  │  │ Safari  │  │ Mobile  │  │ Tablet  │      │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘      │
└───────┼───────────┼────────────┼────────────┼────────────┘
        └───────────┴────────────┴────────────┘
                         │ HTTPS
        ┌────────────────▼────────────────────┐
        │         Nginx (反向代理)             │
        └────────────────┬────────────────────┘
                         │
        ┌────────────────▼────────────────────┐
        │      前端应用 (Dash / Gradio)        │
        │  ┌──────────────────────────────┐   │
        │  │  页面路由                     │   │
        │  │  ├─ 首页仪表盘                │   │
        │  │  ├─ 实时监控                  │   │
        │  │  ├─ 分析报表                  │   │
        │  │  └─ 我的工作台                │   │
        │  └──────────────────────────────┘   │
        └────────────────┬────────────────────┘
                         │ REST API
        ┌────────────────▼────────────────────┐
        │      后端服务 (FastAPI)              │
        │  ┌──────────────────────────────┐   │
        │  │  API层                        │   │
        │  │  ├─ /api/metrics              │   │
        │  │  ├─ /api/reports              │   │
        │  │  ├─ /api/users                │   │
        │  │  └─ /api/export               │   │
        │  └──────────────┬───────────────┘   │
        │  ┌──────────────▼───────────────┐   │
        │  │  业务逻辑层                   │   │
        │  │  ├─ 指标计算引擎              │   │
        │  │  ├─ 报表生成器                │   │
        │  │  ├─ 数据聚合器                │   │
        │  │  └─ 权限验证                  │   │
        │  └──────────────┬───────────────┘   │
        └─────────────────┼───────────────────┘
                          │
        ┌─────────────────▼───────────────────┐
        │         数据访问层                   │
        │  ┌────────────┐  ┌────────────┐     │
        │  │ ORM层      │  │ 缓存层     │     │
        │  │ (SQLAlchemy│  │ (Redis)    │     │
        │  └─────┬──────┘  └─────┬──────┘     │
        └────────┼───────────────┼─────────────┘
                 │               │
        ┌────────▼───────┐  ┌───▼──────┐
        │  Supabase      │  │  Redis   │
        │  (PostgreSQL)  │  │  Cache   │
        │                │  │          │
        │ • users        │  │ • 热数据  │
        │ • review_tasks │  │ • 会话   │
        │ • review_results│ │         │
        │ • ...          │  │          │
        └────────────────┘  └──────────┘

        ┌─────────────────────────────────────┐
        │       后台任务 (Celery + Redis)     │
        │  • 定时数据聚合                      │
        │  • 报表自动生成                      │
        │  • 邮件发送                          │
        │  • 数据归档                          │
        └─────────────────────────────────────┘
```

---

#### 6.2.2 数据流架构

```
┌──────────────────────────────────────────────────────────┐
│                    业务数据库 (Supabase)                  │
│  实时数据 (OLTP) - 存储审核任务、结果等                   │
└───────────────────┬──────────────────────────────────────┘
                    │
                    │ ETL (每小时同步)
                    ▼
┌──────────────────────────────────────────────────────────┐
│                    分析数据库 (DuckDB/PostgreSQL)         │
│  分析数据 (OLAP) - 存储聚合数据、历史归档                 │
│  ┌────────────────────────────────────────────────┐      │
│  │  聚合表 (Aggregated Tables)                    │      │
│  │  • daily_metrics (每日指标)                    │      │
│  │  • reviewer_stats (审核员统计)                 │      │
│  │  • tag_trends (标签趋势)                       │      │
│  └────────────────────────────────────────────────┘      │
└───────────────────┬──────────────────────────────────────┘
                    │
                    │ 查询
                    ▼
┌──────────────────────────────────────────────────────────┐
│                    缓存层 (Redis)                         │
│  • 热数据缓存 (TTL: 5分钟)                                │
│  • 用户会话                                               │
│  • 查询结果缓存                                           │
└───────────────────┬──────────────────────────────────────┘
                    │
                    │ 返回数据
                    ▼
┌──────────────────────────────────────────────────────────┐
│                    应用层 (FastAPI)                       │
│  • 数据加工                                               │
│  • 格式转换                                               │
│  • 权限过滤                                               │
└───────────────────┬──────────────────────────────────────┘
                    │
                    │ JSON
                    ▼
┌──────────────────────────────────────────────────────────┐
│                    前端展示 (Dash)                        │
│  • 图表渲染                                               │
│  • 交互处理                                               │
└──────────────────────────────────────────────────────────┘
```

---

### 6.3 数据库设计

#### 6.3.1 分析数据库（新建表）

**表1：daily_metrics（每日指标汇总表）**

```sql
CREATE TABLE daily_metrics (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    metric_type VARCHAR(50) NOT NULL,  -- 'comment' or 'video'
    total_tasks INT DEFAULT 0,         -- 总任务数
    completed_tasks INT DEFAULT 0,     -- 完成数
    pending_tasks INT DEFAULT 0,       -- 待审核数
    approved_count INT DEFAULT 0,      -- 通过数
    rejected_count INT DEFAULT 0,      -- 驳回数
    avg_duration_seconds INT,          -- 平均审核时长（秒）
    active_reviewers INT,              -- 活跃审核员数
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(date, metric_type)
);

CREATE INDEX idx_daily_metrics_date ON daily_metrics(date);
```

---

**表2：reviewer_daily_stats（审核员每日统计）**

```sql
CREATE TABLE reviewer_daily_stats (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    reviewer_id INT NOT NULL,
    metric_type VARCHAR(50) NOT NULL,
    review_count INT DEFAULT 0,        -- 审核数
    approved_count INT DEFAULT 0,      -- 通过数
    rejected_count INT DEFAULT 0,      -- 驳回数
    avg_duration_seconds INT,          -- 平均时长
    min_duration_seconds INT,          -- 最快时长
    max_duration_seconds INT,          -- 最慢时长
    overturned_count INT DEFAULT 0,    -- 被改判次数（二审）
    qc_passed_count INT DEFAULT 0,     -- 质检通过数
    qc_failed_count INT DEFAULT 0,     -- 质检不通过数
    work_start_time TIMESTAMP,         -- 首次审核时间
    work_end_time TIMESTAMP,           -- 最后审核时间
    created_at TIMESTAMP DEFAULT NOW(),
    FOREIGN KEY (reviewer_id) REFERENCES users(id),
    UNIQUE(date, reviewer_id, metric_type)
);

CREATE INDEX idx_reviewer_daily_date ON reviewer_daily_stats(date);
CREATE INDEX idx_reviewer_daily_reviewer ON reviewer_daily_stats(reviewer_id);
```

---

**表3：tag_daily_stats（标签每日统计）**

```sql
CREATE TABLE tag_daily_stats (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    tag_name VARCHAR(100) NOT NULL,
    metric_type VARCHAR(50) NOT NULL,
    usage_count INT DEFAULT 0,         -- 使用次数
    approval_count INT DEFAULT 0,      -- 该标签下的通过数
    rejection_count INT DEFAULT 0,     -- 该标签下的驳回数
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(date, tag_name, metric_type)
);

CREATE INDEX idx_tag_daily_date ON tag_daily_stats(date);
CREATE INDEX idx_tag_daily_name ON tag_daily_stats(tag_name);
```

---

**表4：system_alerts（系统预警记录）**

```sql
CREATE TABLE system_alerts (
    id SERIAL PRIMARY KEY,
    alert_type VARCHAR(50) NOT NULL,   -- 'backlog', 'efficiency', 'quality', 'anomaly'
    severity VARCHAR(20) NOT NULL,     -- 'low', 'medium', 'high'
    title VARCHAR(200) NOT NULL,
    description TEXT,
    metric_value FLOAT,                -- 触发值
    threshold_value FLOAT,             -- 阈值
    related_entity_type VARCHAR(50),   -- 'reviewer', 'queue', 'tag'
    related_entity_id INT,
    status VARCHAR(20) DEFAULT 'unread', -- 'unread', 'read', 'resolved'
    resolved_by INT,
    resolved_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    FOREIGN KEY (resolved_by) REFERENCES users(id)
);

CREATE INDEX idx_alerts_status ON system_alerts(status);
CREATE INDEX idx_alerts_created ON system_alerts(created_at);
```

---

**表5：custom_reports（自定义报表配置）**

```sql
CREATE TABLE custom_reports (
    id SERIAL PRIMARY KEY,
    report_name VARCHAR(100) NOT NULL,
    description TEXT,
    created_by INT NOT NULL,
    config JSONB NOT NULL,             -- 报表配置（指标、维度、图表类型等）
    is_template BOOLEAN DEFAULT FALSE, -- 是否为模板
    is_scheduled BOOLEAN DEFAULT FALSE,-- 是否定时生成
    schedule_cron VARCHAR(100),        -- Cron表达式
    recipients TEXT[],                 -- 接收人邮箱列表
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    FOREIGN KEY (created_by) REFERENCES users(id)
);

CREATE INDEX idx_reports_created_by ON custom_reports(created_by);
```

**config字段示例**：
```json
{
  "data_source": "review_tasks",
  "metrics": ["review_count", "approval_rate", "avg_duration"],
  "dimensions": ["reviewer_id", "date"],
  "filters": {
    "date_range": "last_7_days",
    "status": "completed"
  },
  "visualizations": [
    {
      "type": "line_chart",
      "metric": "review_count",
      "dimension": "date"
    },
    {
      "type": "bar_chart",
      "metric": "approval_rate",
      "dimension": "reviewer_id"
    }
  ]
}
```

---

#### 6.3.2 ETL数据流

**每小时定时任务**：

```python
# 伪代码示例
def hourly_etl():
    """每小时执行的数据聚合任务"""

    # 1. 聚合每日指标
    aggregate_daily_metrics()

    # 2. 聚合审核员统计
    aggregate_reviewer_stats()

    # 3. 聚合标签统计
    aggregate_tag_stats()

    # 4. 检查预警条件
    check_and_create_alerts()

    # 5. 清除过期缓存
    clear_expired_cache()

def aggregate_daily_metrics():
    """聚合每日指标到daily_metrics表"""
    sql = """
    INSERT INTO daily_metrics (date, metric_type, total_tasks, completed_tasks, ...)
    SELECT
        DATE(created_at) as date,
        'comment' as metric_type,
        COUNT(*) as total_tasks,
        COUNT(CASE WHEN status = 'completed' THEN 1 END) as completed_tasks,
        ...
    FROM review_tasks
    WHERE DATE(created_at) = CURRENT_DATE
    GROUP BY DATE(created_at)
    ON CONFLICT (date, metric_type) DO UPDATE
    SET total_tasks = EXCLUDED.total_tasks, ...
    """
    execute(sql)
```

---

### 6.4 部署架构

#### 6.4.1 开发环境
- 本地运行（localhost:8000）
- 使用SQLite作为本地缓存
- 直连Supabase生产数据库（只读权限）

#### 6.4.2 测试环境
- 部署到测试服务器
- 使用Supabase测试项目
- 模拟数据进行测试

#### 6.4.3 生产环境

**方案A：简易部署（Streamlit Cloud）**
```
Streamlit Cloud (免费托管)
├── 应用代码（GitHub自动部署）
├── 依赖管理（requirements.txt）
└── 环境变量（Supabase连接信息）
```

**方案B：Docker部署**
```
Docker Compose
├── Web容器（Dash/FastAPI）
├── Redis容器
├── Celery Worker容器
└── Nginx容器
```

**docker-compose.yml 示例**：
```yaml
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    environment:
      - SUPABASE_URL=${SUPABASE_URL}
      - SUPABASE_KEY=${SUPABASE_KEY}
      - REDIS_URL=redis://redis:6379
    depends_on:
      - redis

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  celery:
    build: .
    command: celery -A tasks worker --loglevel=info
    environment:
      - REDIS_URL=redis://redis:6379
    depends_on:
      - redis

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - web
```

---

## 7. 数据模型

### 7.1 核心数据实体

```
┌─────────────────┐
│     User        │ 用户/审核员
├─────────────────┤
│ id (PK)         │
│ username        │
│ role            │ 角色
│ status          │ 状态
└────────┬────────┘
         │ 1
         │
         │ N
┌────────▼────────┐
│  ReviewTask     │ 审核任务
├─────────────────┤
│ id (PK)         │
│ comment_id (FK) │
│ reviewer_id (FK)│
│ status          │ 状态
│ claimed_at      │ 认领时间
│ completed_at    │ 完成时间
└────────┬────────┘
         │ 1
         │
         │ 1
┌────────▼────────┐
│ ReviewResult    │ 审核结果
├─────────────────┤
│ id (PK)         │
│ task_id (FK)    │
│ is_approved     │ 是否通过
│ tags[]          │ 标签数组
│ reason          │ 原因
└─────────────────┘
```

### 7.2 指标计算公式

#### 7.2.1 效率指标

| 指标名称 | 计算公式 | SQL示例 |
|---------|---------|---------|
| 审核量 | COUNT(completed tasks) | `SELECT COUNT(*) FROM review_tasks WHERE status = 'completed'` |
| 平均审核时长 | AVG(completed_at - claimed_at) | `SELECT AVG(EXTRACT(EPOCH FROM (completed_at - claimed_at))) FROM review_tasks` |
| 审核速度 | 审核量 / 工作时长 | `SELECT COUNT(*) / EXTRACT(HOUR FROM (MAX(completed_at) - MIN(claimed_at)))` |
| 任务完成率 | 完成数 / 总任务数 × 100% | `SELECT (SUM(CASE WHEN status='completed' THEN 1 ELSE 0 END)::FLOAT / COUNT(*)) * 100` |

#### 7.2.2 质量指标

| 指标名称 | 计算公式 | SQL示例 |
|---------|---------|---------|
| 通过率 | 通过数 / 总审核数 × 100% | `SELECT (SUM(CASE WHEN is_approved THEN 1 ELSE 0 END)::FLOAT / COUNT(*)) * 100` |
| 改判率 | 改判数 / 二审总数 × 100% | `SELECT COUNT(*) FROM second_review WHERE first_result != second_result` |
| 质检通过率 | 质检通过数 / 质检总数 × 100% | `SELECT (SUM(CASE WHEN is_passed THEN 1 ELSE 0 END)::FLOAT / COUNT(*)) * 100` |
| 准确率 | (总数 - 改判数) / 总数 × 100% | `100 - 改判率` |

#### 7.2.3 业务指标

| 指标名称 | 计算公式 |
|---------|---------|
| 待审核积压 | COUNT(status = 'pending') |
| 平均等待时长 | AVG(NOW() - created_at) for pending tasks |
| 违规率 | 驳回数 / 总审核数 × 100% |
| 标签使用频率 | COUNT(tag) / 总审核数 |

---

## 8. 产品路线图

### 8.1 里程碑规划

```
时间轴：────────────────────────────────────────────────────▶

M1: MVP上线           M2: 进阶功能        M3: AI智能化
(2个月)               (2个月)             (2个月+)
│                     │                   │
▼                     ▼                   ▼
┌──────────────┐     ┌──────────────┐   ┌──────────────┐
│ 核心功能     │────▶│ 增强分析     │──▶│ 智能决策     │
│ • 仪表盘     │     │ • 智能预警   │   │ • AI分析     │
│ • 实时监控   │     │ • 对比分析   │   │ • NLQ查询    │
│ • 基础报表   │     │ • 自定义报表 │   │ • 预测模型   │
│ • 个人工作台 │     │ • 数据钻取   │   │ • 知识图谱   │
│ • 数据导出   │     │ • 移动端适配 │   │ • 开放API    │
└──────────────┘     └──────────────┘   └──────────────┘

关键指标：
日活≥50%              日活≥80%            日活≥95%
用户满意度≥3.5/5      用户满意度≥4.0/5    用户满意度≥4.5/5
```

---

### 8.2 详细迭代计划

#### 第1阶段：MVP上线（0-2个月）

**Sprint 1（Week 1-2）：基础架构**
- [ ] 技术栈选型确认
- [ ] 开发环境搭建
- [ ] Supabase连接测试
- [ ] 数据库分析表设计
- [ ] 基础ETL脚本开发

**Sprint 2（Week 3-4）：首页仪表盘**
- [ ] 关键指标计算逻辑
- [ ] 指标卡片组件开发
- [ ] 审核量趋势图
- [ ] 审核员排行榜
- [ ] 违规标签分布图

**Sprint 3（Week 5-6）：实时监控**
- [ ] 任务队列监控
- [ ] 审核员状态展示
- [ ] 实时活动流
- [ ] 数据自动刷新

**Sprint 4（Week 7-8）：分析报表**
- [ ] 审核效率分析（按人员、时间）
- [ ] 审核质量分析（通过率、改判率）
- [ ] 内容趋势分析（标签、视频质量）
- [ ] 数据导出功能（Excel/CSV）

**Sprint 5（Week 9-10）：个人工作台 + 测试**
- [ ] 个人仪表盘
- [ ] 个人排名
- [ ] 常见错误展示
- [ ] 全面测试和bug修复
- [ ] 用户培训文档

**交付成果**：
- ✅ 可用的数据分析平台（Web版）
- ✅ 核心功能覆盖率100%
- ✅ 用户手册和操作视频

---

#### 第2阶段：进阶功能（2-4个月）

**Sprint 6（Week 11-12）：智能预警系统**
- [ ] 预警规则配置
- [ ] 预警触发引擎
- [ ] 预警通知（站内信+邮件）
- [ ] 预警管理页面

**Sprint 7（Week 13-14）：对比分析**
- [ ] 时间对比功能
- [ ] 人员对比功能
- [ ] 类型对比功能
- [ ] 对比可视化

**Sprint 8（Week 15-16）：自定义报表**
- [ ] 报表配置器
- [ ] 报表模板保存
- [ ] 定时报表任务
- [ ] 报表订阅功能

**Sprint 9（Week 17-18）：数据钻取 + 移动端**
- [ ] 多层级数据钻取
- [ ] 面包屑导航
- [ ] 移动端响应式适配
- [ ] 触摸交互优化

**交付成果**：
- ✅ 完整的企业级数据分析平台
- ✅ 移动端支持
- ✅ 高级分析能力

---

#### 第3阶段：AI智能化（4个月+）

**Sprint 10-11（Week 19-22）：AI智能分析**
- [ ] 异常检测模型训练
- [ ] 趋势预测模型
- [ ] 根因分析引擎
- [ ] 智能推荐系统

**Sprint 12（Week 23-24）：自然语言查询**
- [ ] NLP意图识别
- [ ] SQL自动生成
- [ ] 可视化自动渲染
- [ ] 对话式交互

**Sprint 13-14（Week 25-28）：知识图谱 + 开放API**
- [ ] 知识图谱构建
- [ ] 关系可视化
- [ ] RESTful API开发
- [ ] API文档和SDK

**交付成果**：
- ✅ AI驱动的智能分析平台
- ✅ 开放API生态
- ✅ 业界领先的分析能力

---

## 9. 成功指标

### 9.1 产品指标（Product Metrics）

| 指标类别 | 指标名称 | 目标值（MVP） | 目标值（3个月） | 目标值（6个月） |
|---------|---------|--------------|----------------|----------------|
| **用户活跃** | 日活用户数（DAU） | ≥50% | ≥80% | ≥95% |
| **用户活跃** | 周活用户数（WAU） | ≥80% | ≥90% | ≥100% |
| **用户粘性** | 平均使用时长 | ≥5分钟/天 | ≥10分钟/天 | ≥15分钟/天 |
| **用户粘性** | 平均访问次数 | ≥1次/天 | ≥2次/天 | ≥3次/天 |
| **功能使用** | 报表查看率 | ≥60% | ≥80% | ≥90% |
| **功能使用** | 导出功能使用率 | ≥30% | ≥50% | ≥70% |
| **用户满意度** | NPS评分 | ≥30 | ≥50 | ≥70 |
| **用户满意度** | 产品评分 | ≥3.5/5 | ≥4.0/5 | ≥4.5/5 |

### 9.2 业务指标（Business Metrics）

| 指标名称 | 基线值（当前） | 目标值（3个月） | 目标值（6个月） |
|---------|--------------|----------------|----------------|
| 审核效率提升 | 0% | +15% | +30% |
| 误判率降低 | 0% | -10% | -20% |
| 任务积压减少 | 0% | -20% | -40% |
| 人力成本优化 | 0% | -5% | -10% |
| 决策响应速度 | 基线 | 提升50% | 提升100% |

### 9.3 技术指标（Technical Metrics）

| 指标名称 | 目标值 |
|---------|--------|
| 页面加载时间 | <2秒（P95） |
| API响应时间 | <500ms（P95） |
| 系统可用性 | ≥99.5% |
| 数据准确性 | 100% |
| Bug修复时间 | <24小时（严重）、<1周（一般） |
| 测试覆盖率 | ≥80% |

### 9.4 评估方法

#### 9.4.1 用户反馈收集
- **每周**：使用情况调研（问卷）
- **每月**：用户访谈（1对1深度访谈）
- **每季度**：NPS评分和产品满意度调查

#### 9.4.2 数据埋点
- 页面浏览量（PV）
- 按钮点击率
- 功能使用频率
- 用户停留时长
- 导出次数

#### 9.4.3 A/B测试
- 不同图表类型的用户偏好
- 页面布局优化
- 功能优先级验证

---

## 10. 风险与挑战

### 10.1 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|-----|------|------|---------|
| Supabase性能瓶颈 | 高 | 中 | 引入缓存层、数据分库 |
| 大数据量查询慢 | 高 | 高 | 建立聚合表、优化索引 |
| 实时数据延迟 | 中 | 中 | 使用消息队列、CDC机制 |
| 前端渲染卡顿 | 中 | 低 | 虚拟滚动、分页加载 |

### 10.2 产品风险

| 风险 | 影响 | 概率 | 应对措施 |
|-----|------|------|---------|
| 用户不习惯数据驱动 | 高 | 中 | 加强培训、简化界面 |
| 需求频繁变更 | 中 | 高 | 敏捷迭代、快速响应 |
| 数据隐私担忧 | 高 | 低 | 严格权限控制、脱敏处理 |
| ROI不明显 | 高 | 中 | 设定清晰指标、定期评估 |

### 10.3 资源风险

| 风险 | 影响 | 概率 | 应对措施 |
|-----|------|------|---------|
| 开发人员不足 | 高 | 中 | AI辅助开发、外包部分功能 |
| 预算有限 | 中 | 低 | 优先MVP、使用开源方案 |
| 时间紧迫 | 中 | 中 | 分阶段交付、削减非核心功能 |

---

## 11. 附录

### 11.1 术语表

| 术语 | 定义 |
|-----|------|
| DAU | Daily Active Users，日活跃用户数 |
| WAU | Weekly Active Users，周活跃用户数 |
| NPS | Net Promoter Score，净推荐值 |
| OLTP | Online Transaction Processing，在线事务处理 |
| OLAP | Online Analytical Processing，在线分析处理 |
| ETL | Extract-Transform-Load，数据抽取转换加载 |
| CDC | Change Data Capture，变更数据捕获 |
| MVP | Minimum Viable Product，最小可行产品 |
| ROI | Return on Investment，投资回报率 |

### 11.2 参考资料

- **技术文档**：
  - Supabase官方文档：https://supabase.com/docs
  - Streamlit文档：https://docs.streamlit.io
  - Plotly文档：https://plotly.com/python/

- **产品设计**：
  - 《数据可视化设计指南》
  - 《用户体验要素》
  - Tableau Dashboard设计最佳实践

- **数据分析**：
  - 《精益数据分析》
  - 《增长黑客》
  - Google Analytics学院

### 11.3 相关文档

- [x] 《数据分析方案指南》（doc/DATA_ANALYSIS_GUIDE.md）
- [ ] 《技术设计文档》（待编写）
- [ ] 《API接口文档》（待编写）
- [ ] 《用户操作手册》（待编写）
- [ ] 《数据字典》（待编写）

---

## 12. 审批流程

| 角色 | 姓名 | 审批状态 | 日期 | 签名 |
|-----|------|---------|------|------|
| 产品经理 | | ⬜ 待审批 | | |
| 技术负责人 | | ⬜ 待审批 | | |
| 项目经理 | | ⬜ 待审批 | | |
| 最终决策人 | | ⬜ 待审批 | | |

---

## 13. 变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|-----|------|---------|--------|
| v1.0 | 2025-11-25 | 初始版本创建 | Claude |
| | | | |
| | | | |

---

**文档结束**

---

## 💡 给AI编程初学者的使用建议

这份PRD非常详细，建议你这样使用：

### 第1步：理解核心概念（1天）
- 阅读"产品概述"和"功能需求-MVP"部分
- 了解要做什么、为什么做

### 第2步：选择技术方案（1天）
- 阅读"技术架构"部分
- 推荐选择"方案A：轻量级快速开发"（Streamlit）
- 让AI帮你搭建开发环境

### 第3步：分阶段实现（2-8周）
- **Week 1-2**：只做"首页仪表盘"的3个核心指标卡片
- **Week 3-4**：添加1个趋势图
- **Week 5-6**：添加"实时监控"
- **Week 7-8**：添加"我的工作台"
- 每完成一个功能，立即测试和使用，获得成就感！

### 第4步：充分利用AI
每个功能都可以直接问AI：
- "帮我用Streamlit实现今日审核量指标卡片"
- "如何从Supabase查询过去7天的审核量趋势？"
- "用Plotly画一个折线图"

### 记住：
- ✅ 不要一开始就想做完所有功能
- ✅ 先做出能用的，再做好用的
- ✅ 每天进步一点点
- ✅ 遇到问题随时问AI

祝你开发顺利！🚀
