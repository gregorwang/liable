# 审核规则库系统 - 使用指南

## 📋 目录

1. [系统概览](#系统概览)
2. [功能特性](#功能特性)
3. [前端页面使用](#前端页面使用)
4. [后端 API 使用](#后端-api-使用)
5. [规则编号速查](#规则编号速查)
6. [最佳实践](#最佳实践)
7. [常见问题](#常见问题)

---

## 系统概览

### 什么是审核规则库？

审核规则库是一个完整的内容审核参考系统，包含 42 条详细的审核规则，涵盖 10 大分类。每条规则都包含：

- **规则编号**: 唯一标识符（如 A1, B2）
- **分类与标签**: 一级和二级分类
- **风险等级**: L/M/H/C 四个级别
- **判定要点**: 如何识别该违规行为
- **处置动作**: 具体的处理措施
- **边界说明**: 边界情况和注意事项
- **示例**: 真实案例参考

### 系统组成

```
审核规则库系统
├── 数据库层 (moderation_rules 表)
├── 后端 API (Go + Gin)
└── 前端页面 (Vue3 + Element Plus)
```

---

## 功能特性

### ✅ 完整的规则数据库

- **42 条规则**: 覆盖所有常见内容安全问题
- **10 大分类**: 从人身安全到社区秩序
- **详细说明**: 每条规则都有完整的判定要点和处置指南

### ✅ 灵活的查询功能

- **分类筛选**: 快速找到特定分类的规则
- **风险等级筛选**: 按安全级别过滤
- **关键字搜索**: 搜索规则编号或描述
- **分页显示**: 高效加载大量数据

### ✅ 用户友好的界面

- **彩色标签**: 风险等级用颜色区分（绿/黄/红/深红）
- **展开详情**: 点击行展开查看完整信息
- **统计概览**: 快速了解规则分布
- **响应式设计**: 支持各种屏幕尺寸

---

## 前端页面使用

### 访问页面

1. 以**管理员**身份登录
2. 点击左侧菜单"审核规则库"或访问 `/admin/moderation-rules`

### 页面布局

```
┌─────────────────────────────────────────────┐
│ 审核规则库  [共 42 条规则]                   │
├─────────────────────────────────────────────┤
│                                               │
│  搜索框 | 分类下拉 | 风险等级下拉            │
│                                               │
│  ┌───────────────────────────────────────┐  │
│  │ 规则 │ 分类  │ 二级标签 │ 风险 │ ...   │  │
│  ├───────────────────────────────────────┤  │
│  │ ▶ A1 │ 人身... │ 真实威胁 │ 🔴 C   │  │  │
│  │ ▶ A2 │ 人身... │ 教唆暴力 │ 🟠 H   │  │  │
│  │ ▶ B1 │ 仇恨... │ 群体仇恨 │ 🟠 H   │  │  │
│  └───────────────────────────────────────┘  │
│                                               │
│  分页: 共 42 条 | << < 1 > >> | 每页20条   │
├─────────────────────────────────────────────┤
│ 总规则数: 42 | 极高风险(C):5 | 高风险(H):... │
└─────────────────────────────────────────────┘
```

### 操作指南

#### 1. 搜索规则

```
方式1: 按规则编号搜索
- 在搜索框输入 "A1"
- 系统会显示所有包含 "A1" 的规则

方式2: 按描述搜索
- 在搜索框输入关键词如 "威胁"
- 系统会显示所有描述中包含该词的规则
```

#### 2. 按分类筛选

```
1. 点击"分类"下拉框
2. 选择一个分类，如"人身安全与暴力"
3. 页面会自动刷新，只显示该分类的规则
4. 点击清除按钮可清除筛选
```

#### 3. 按风险等级筛选

```
1. 点击"风险等级"下拉框
2. 选择风险等级:
   - 低风险 (L): 影响体验但可教育纠正
   - 中风险 (M): 破坏秩序/潜在伤害
   - 高风险 (H): 明确伤害或重大风险
   - 极高风险 (C): 严重违法或对人身安全的威胁
3. 点击清除按钮可清除筛选
```

#### 4. 查看规则详情

```
1. 在表格中找到要查看的规则
2. 点击行最左边的 "▶" 箭头展开
3. 展开的详情包括:
   - 判定要点: 如何识别该违规
   - 边界与记录要点: 边界情况说明
   - 处置动作: 具体处理措施
   - 示例: 真实案例参考
4. 再次点击箭头可收起
```

#### 5. 分页浏览

```
- "每页条数": 可选 10/20/50/100
- "页码": 直接输入页码或使用上下箭头
- 分页会自动计算总页数
```

### 风险等级颜色标识

| 风险等级 | 颜色 | 代码 | 含义 |
|---------|------|------|------|
| 低风险 | 🟢 绿色 | L | 影响体验但可教育纠正 |
| 中风险 | 🟡 黄色 | M | 破坏秩序/潜在伤害 |
| 高风险 | 🔶 橙红 | H | 明确伤害或重大风险 |
| 极高风险 | 🔴 红色 | C | 严重违法或对人身安全的威胁 |

### 快捷标签显示

某些规则有快捷标签，方便快速审核：

| 快捷标签 | 对应规则 |
|---------|---------|
| 人身攻击 | B2, C1 |
| 暴力 | A1, A2 |
| 色情 | D1, D3 |
| 广告 | H1 |
| 垃圾 | J1, H3 |
| 政治敏感 | F2 |

---

## 后端 API 使用

### 基础 URL

```
http://localhost:8000/api/moderation-rules
```

### API 端点

#### 1️⃣ 获取规则列表

```http
GET /moderation-rules?category=人身安全与暴力&risk_level=H&search=威胁&page=1&page_size=20
```

**参数说明:**

- `category` (可选): 精确筛选分类
- `risk_level` (可选): 筛选风险等级 (L/M/H/C)
- `search` (可选): 模糊搜索规则编号或描述
- `page` (可选): 页码，默认 1
- `page_size` (可选): 每页数量，默认 20，最大 100

**示例:**

```bash
# 获取所有高风险规则
curl "http://localhost:8000/api/moderation-rules?risk_level=H"

# 搜索包含"威胁"的规则
curl "http://localhost:8000/api/moderation-rules?search=威胁"

# 获取人身安全分类的第2页（每页20条）
curl "http://localhost:8000/api/moderation-rules?category=人身安全与暴力&page=2"
```

#### 2️⃣ 获取单条规则

```http
GET /moderation-rules/:code
```

**示例:**

```bash
curl "http://localhost:8000/api/moderation-rules/A1"
curl "http://localhost:8000/api/moderation-rules/B2"
```

#### 3️⃣ 获取所有分类

```http
GET /moderation-rules/categories
```

**响应示例:**

```json
{
  "categories": [
    "人身安全与暴力",
    "仇恨与歧视",
    "骚扰与霸凌",
    "未成年人与性相关",
    "非法与危险活动",
    "虚假信息与公共危害",
    "隐私与个人信息",
    "垃圾信息与平台安全",
    "知识产权",
    "社区秩序与质量"
  ]
}
```

#### 4️⃣ 获取所有风险等级

```http
GET /moderation-rules/risk-levels
```

**响应示例:**

```json
{
  "levels": ["L", "M", "H", "C"]
}
```

### 响应格式

#### 成功响应 (HTTP 200)

```json
{
  "data": [
    {
      "id": 1,
      "rule_code": "A1",
      "category": "人身安全与暴力",
      "subcategory": "真实威胁/伤害",
      "description": "对个人/群体发出可信威胁，具时间/地点/手段或历史前科",
      "judgment_criteria": "对个人/群体发出可信威胁，具时间/地点/手段或历史前科",
      "risk_level": "C",
      "action": "立即删除+永久封禁；证据保全；必要时上报",
      "boundary": "夸张口头禅但无对象与可行性→转A2或C1评估",
      "examples": "威胁对象、时间、地点、手段的具体信息",
      "quick_tag": null,
      "created_at": "2025-10-25T00:00:00Z",
      "updated_at": "2025-10-25T00:00:00Z"
    }
  ],
  "total": 42,
  "page": 1,
  "page_size": 20,
  "total_pages": 3
}
```

#### 错误响应

```json
{
  "error": "Failed to fetch rules"
}
```

---

## 规则编号速查

### 快速查找表

#### 👤 人身安全与暴力 (A类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| A1 | 真实威胁/伤害 | 🔴 C | 包含时间、地点、手段的具体威胁 |
| A2 | 教唆/美化暴力 | 🟠 H | 鼓动他人伤害、歌颂暴力 |
| A3 | 自杀/自残相关 | 🟠 H | 求助、计划或怂恿 |

#### 😠 仇恨与歧视 (B类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| B1 | 受保护群体仇恨 | 🟠 H | 基于种族、性别等的仇恨 |
| B2 | 恶意辱骂 | 🟡 M/🟠 H | 不基于受保护属性的辱骂 |
| B3 | 仇恨符号/隐语 | 🟠 H | 历史仇恨符号或暗号 |

#### 🚫 骚扰与霸凌 (C类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| C1 | 定向骚扰/跟踪 | 🟠 H | 反复@辱骂、跟踪暗示 |
| C2 | 性骚扰/物化 | 🟡 M/🟠 H | 非自愿性暗示 |
| C3 | 组织围攻 | 🟠 H | 动员他人围攻 |

#### 🔞 未成年人与性相关 (D类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| D1 | 未成年人性化 | 🔴 C | 对未成年人的性化描绘 |
| D2 | 私密影像威胁 | 🔴 C | 未经同意的私密影像 |
| D3 | 露骨成人内容 | 🟡 M | 未标注的露骨内容 |

#### ⚖️ 非法与危险活动 (E类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| E1 | 教唆犯罪 | 🟠 H | 提供违法步骤 |
| E2 | 违禁品交易 | 🔴 C | 毒品、枪支等交易 |
| E3 | 诈骗/钓鱼 | 🟠 H | 网络诈骗、木马链接 |
| E4 | 赌博推广 | 🟠 H | 博彩和灰产推广 |

#### 📰 虚假信息与公共危害 (F类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| F1 | 医疗错误信息 | 🟡 M/🟠 H | 违反权威共识的医疗建议 |
| F2 | 公共事件误导 | 🟠 H | 伪造声明、选举误导 |
| F3 | 冒充身份 | 🟠 H | 身份冒充、深度伪造 |

#### 🔒 隐私与个人信息 (G类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| G1 | 人肉搜索 | 🟠 H/🔴 C | 泄露个人信息 |
| G2 | 未授权影像 | 🟠 H | 私密场景或拒绝后分享 |

#### 🚨 垃圾信息与平台安全 (H类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| H1 | 广告引流 | 🟡 M | 重复链接、群发外链 |
| H2 | 恶意链接 | 🟠 H | 钓鱼、木马、挖矿 |
| H3 | 刷屏灌水 | 🟡 M/🟠 H | 短时大量重复 |

#### 📚 知识产权 (I类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| I1 | 盗版传播 | 🟡 M | 未授权内容分享 |
| I2 | 商标冒用 | 🟠 H | 品牌或肖像盗用 |

#### 💬 社区秩序与质量 (J类)

| 编号 | 名称 | 风险 | 说明 |
|------|------|------|------|
| J1 | 低质/题外 | 🟢 L | 无实质信息 |
| J2 | 粗俗不文明 | 🟢 L/🟡 M | 脏话挑衅 |
| J3 | 剧透未标注 | 🟢 L/🟡 M | 敏感内容未打标 |

---

## 最佳实践

### ✅ 审核员使用指南

#### 第一步: 了解规则

1. 登录管理后台
2. 进入"审核规则库"页面
3. 按分类浏览规则，理解每条规则的判定要点

#### 第二步: 快速查找

```
遇到违规评论 → 
1. 初步判断属于哪类违规
2. 在规则库搜索相关关键词
3. 查看规则的判定要点确认分类
4. 查看处置动作应用相应处理
```

#### 第三步: 记录决策

根据规则记录:
- 一级分类 (如"人身安全与暴力")
- 二级标签 (如"真实威胁/伤害")  
- 规则编号 (如"A1")
- 风险等级
- 处置动作
- 处理理由

### 🎯 常见场景

#### 场景1: 遇到人身攻击

```
步骤:
1. 在规则库搜索"人身攻击"
2. 结果包含 B2 (恶意辱骂) 和 C1 (定向骚扰)
3. 判断是单次还是反复 → 选择对应规则
4. 按照规则的处置动作处理
```

#### 场景2: 判断是否违法

```
步骤:
1. 用"法律""违法"等关键词搜索
2. 查看 E1-E4 (非法活动) 分类规则
3. 对照内容与规则的判定要点
4. 按照风险等级执行处置
```

#### 场景3: 快速判定风险

```
步骤:
1. 按"风险等级"筛选为"C"(极高风险)
2. 了解哪些规则属于红线
3. 对于不确定的内容，与规则对比
4. 及时上报和保全证据
```

### 📊 效率优化

- **收藏常用规则**: 记住常见的规则编号
- **学习快捷标签**: 使用快捷标签加速审核流程
- **分类预习**: 每周选择一个分类深入学习
- **案例积累**: 记录真实案例与规则的对应关系

---

## 常见问题

### Q1: 如何快速找到规则?

**A:** 有三种方式:

1. **按编号**: 如果知道编号 A1，直接搜索"A1"
2. **按分类**: 使用分类下拉框精确选择
3. **按关键词**: 搜索"威胁""暴力"等关键词

### Q2: 不确定风险等级如何判定?

**A:** 参考下表:

| 情况 | 风险等级 |
|------|---------|
| 影响用户体验但可纠正 | L - 低 |
| 破坏秩序或有潜在伤害 | M - 中 |
| 有明确伤害或重大风险 | H - 高 |
| 严重违法或威胁人身安全 | C - 极高 |

### Q3: "边界与记录要点"是什么意思?

**A:** 这部分说明了:

- **边界情况**: 哪些看似相似但不违规的内容
- **判断要点**: 如何区分违规和非违规
- **记录要求**: 需要保留的关键证据

### Q4: 快捷标签如何使用?

**A:** 快捷标签是预定义的标签组合:

```
例: 选择快捷标签"人身攻击"
自动映射到 B2 + C1 两条规则
便于快速审核常见违规
```

### Q5: 是否需要背下所有规则?

**A:** 不需要。建议:

- ✅ 了解 10 大分类和各类的风险特点
- ✅ 记住常见的规则编号 (如 A1, B1, E2)
- ✅ 学会在规则库中快速查找
- ✅ 重点掌握极高风险 (C级) 规则

### Q6: API 如何调用?

**A:** 参考下面的示例代码:

```javascript
// 获取所有高风险规则
fetch('/api/moderation-rules?risk_level=H')
  .then(r => r.json())
  .then(data => console.log(data.data))

// 搜索规则
fetch('/api/moderation-rules?search=威胁')
  .then(r => r.json())
  .then(data => console.log(data.data))
```

### Q7: 如果发现规则有问题怎么办?

**A:** 请联系内容安全团队，提供:

1. 问题规则编号
2. 具体问题描述
3. 建议的修改方案
4. 相关案例

---

## 总结

审核规则库是审核员的重要参考工具:

- 📖 **完整性**: 42 条规则涵盖所有常见违规
- 🔍 **易用性**: 多种方式快速查找和筛选
- 🎯 **准确性**: 详细的判定要点和边界说明
- ⚡ **高效**: 支持 API 集成和自动化流程

**记住**: 规则库是为了帮助做出更准确、更一致的审核决策！

---

*更新时间: 2025-10-25*

*文档版本: v1.0*
